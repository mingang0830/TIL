# Chapter4 Syntax Analysis 요약

--------------------------------------------

* Parsers
  * 파서는 어휘 분석기에서 입력 토큰을 가져와서 토큰 이름을 context-free grammar 의 터미널 기호로 취급한다.<br/>
  그리고 나서 파서는 토큰의 입력 시퀀스를 위한 parse tree(파스 트리)를 구성한다; 파스 트리는 비유적으로(해당 파생 단계를 거침으로써) 또는 문자 그대로 구성될 수 있다.
<br/><br/>
* Context-Free Grammars
  * 문법은 터미널 심볼(인풋)의 집합, 논터미널(통사 구조를 나타내는 심볼)의 집합, 그리고 생산의 집합을 지정하는데,
  각각은 하나의 논터미널로 표현되는 문자열이 터미널 심볼로부터 구성될 수 있는 방식과, 특정 다른 논터미널로 표현되는 문자열의 방식을 제공한다.<br/>
  프로덕션은 헤드(대체된 논터미널)와 바디(문법 기호들의 대체 문자열)로 구성된다.<br/><br/>
  
* 파생(Derivations)
  * 문법의 start-nonterminal 에서 시작해, 연속적으로 그것의 프로덕션 중 하나의 바디로 그것을 대체하는 것을 파생이라고 한다.<br/>
  만약 가장 왼쪽(또는 가장 오른쪽) 논터미널이 항상 교체된다면, 파생은 leftmost(각각 rightmost)이라고 불린다.<br/><br/>
  
* 파스 트리
  * 파스 트리는 파생에 나타나는 각 논터미널에 대한 노드가 있는 파생 그림이다.<br/>
  자식 노드들은 파생에서 터미널이 대체되는 심볼이다.<br/>
  동일한 터미널 문자열의 파스 트리와 가장 왼쪽 파생 및 가장 오른쪽 파생 사이에는 일대일 대응 관계가 있다.<br/><br/>

* 모호성(Ambiguity)
  * 일부 터미널 문자열이 두 개 이상의 서로 다른 파스 트리 또는 두 개 이상의 가장 왼쪽 파생 또는 두 개 이상의 가장 오른쪽 파생을 갖는 문법은 모호하다고 한다.<br/>
  대부분의 경우, 모호한 문법을 재설계하여 같은 언어에 대한 명확한 문법이 될 수 있다.<br/>
그러나 특정 트릭이 적용된 모호한 문법은 때때로 더 효율적인 파서로 이어진다.<br/><br/>

* Top-Down and Bottom-Up 파싱
  * 파서는 일반적으로 Top-Down(문법의 start symbol로 시작하여 위에서부터 파싱 트리를 구성함) 또는 Bottom-Up(파싱 트리의 잎을 형성하는 터미널 심볼로 시작함)에 의해 구분된다.<br/>
  Top-Down 파서에는 재귀 하강식(recursive-descent) 및 LL 파서가 포함되며, Bottom-Up 파서의 가장 일반적인 형태는 LR 파서이다.<br/><br/>

* Design of Grammars(문법 설계)
  * 하향식 파싱에 적합한 문법은 상향식 파서가 사용하는 문법보다 설계하기 어려운 경우가 많다.<br/>
하나의 논터미널이 동일한 논터미널로 시작하는 문자열을 도출하는 상황인 왼쪽 재귀는 제거할 필요가 있다.<br/>
  또한 바디에 같은 접두사(prefix)가 있는 동일한 논터미널에 대한 left-factor 그룹을 제작해야한다.<br/><br/>

* Recursive-Descent Parsers(재귀적 하강 파서)
  * 이러한 파서는 각 논터미널 대해 절차를 사용한다.<br/>
  이 절차는 입력 내용을 살펴보고 논터미널에 적용할 프로덕션을 결정한다.<br/>
  바디의 터미널은 적절한 시기에 인풋에 맞춰지는 반면, 바디의 논터미널은 절차에 대한 호출을 초래한다.<br/>
  잘못된 프로덕션을 선택한 경우 역추적(backtracking)이 가능하다.<br/><br/>

* LL(1) Parsers
  * 다음 인풋 심볼만 보고 주어진 논터미널을 확장할 올바른 연산을 선택할 수 있는 문법을 LL(1)이라고 한다.<br/>
  이러한 문법을 통해 각 논터미널 및 각 예측 심볼에 대해 올바른 생산의 선택을 제공하는 예측 파싱 테이블을 구성할 수 있다.<br/>
  오류 수정은 적당한 생성 기능이 없는 일부 또는 모든 테이블 항목에 오류 루틴을 배치함으로써 촉진될 수 있다.<br/><br/>

* Shift-Reduce Parsing
  * 상향식 파서는 일반적으로 다음 인풋 심볼(예측 심볼)과 스택의 내용에 기초하여 다음 인풋을 스택으로 이동할지 또는 스택의 맨 위에 있는 일부 심볼을 줄일지 선택하는 방식으로 작동한다.<br/>
  reduce 단계는 스택의 맨 위에 있는 생성 바디를 생성의 헤드로 대체한다.<br/><br/>

* 사용 가능한 prefix
  * shift-reduce 파싱에서 스택 내용은 항상 실행 가능한 prefix이다. 즉, right-sentential의 핸들의 끝보다 더 오른쪽으로 끝나지 않는 일부 right-sentential의 접두사이다.<br/>
  핸들은 해당 문장 형태의 가장 오른쪽 파생의 마지막 단계에서 도입된 하위 문자열입니다.<br/><br/>

* 유효한 아이템
  * 아이템은 바디 어딘가에 점이 있는 생성이다.<br/>
  해당 아이템의 생성이 핸들을 만드는 데 사용되는 경우 아이템은 실행 가능한 prefix에 유효하며 실행 가능한 prefix는 점의 왼쪽에 있는 모든 심볼을 포함하지만 심볼 아래는 포함하지 않는다.<br/><br/>

* LR Parsers
  * 여러 종류의 LR 파서 각각은 먼저 가능한 모든 실행 가능한 prefix에 대한 유효한 아이템 집합(LR states 라고 함)을 구성하고 스택의 각 prefix에 대한 상태를 추적함으로써 작동한다.<br/>
  유효한 아이템 집합은 Shift-Reduce Parsing 결정을 안내한다.<br/>
  바디의 오른쪽 끝에 점이 있는 유효한 아이템이 있으면 줄이고, 일부 유효한 아이템에서 점의 오른쪽에 해당 심볼이 나타나면 예측 심볼을 스택으로 옮기는 것을 선호한다.<br/><br/>
  
* Simple LR Parsers
  * SLR 파서에서는 만약 예측 심볼이 어떤 문장의 형태로든 해당 생성의 헤드를 따라갈 수 있다면, 오른쪽 끝에 점이 있는 유효한 품목이 암시하는 reduce를 수행한다.<br/>
  문법이 SLR이고, parsing-action 충돌이 없는 경우 이 방법을 적용할 수 있다.<br/>
즉, 아이템 집합이 없거나 예측 심볼이 없는 경우, 두 개의 생성을 줄이거나 이동할 수 있는 옵션이 없다.<br/><br/>

* Canonical-LR Parsers
  * 이 더 복잡한 형태의 LR 파서는 기본 생성의 사용을 따라갈 수 있는 예측 심볼 집합으로 증강된 아이템을 사용한다.<br/>
감소는 오른쪽 끝에 점이 있는 유효한 아이템이 있는 경우에만 선택되며 현재 예측 심볼은 이 아아템에 대해 허용되는 아이템 중 하나이다.<br/>
canonical-LR 파서는 SLR 파서에 존재하는 일부 parsing-action 충돌을 피할 수 있지만 종종 동일한 문법에 대한 SLR 파서보다 더 많은 states를 갖는다.<br/><br/>

* Lookahead-LR Parsers
  * LALR 파서는 동일한 커널을 가진 states(아이템 집합, 관련 lookahead 집합 무시)를 결합함으로써 SLR과 Canonical-LR 파서의 많은 장점을 제공한다.<br/>
  따라서 states의 수는 SLR 파서의 수와 동일하지만, SLR 파서의 일부 parsing-action 충돌은 LALR 파서에서 제거될 수 있다.<br/>
  LALR 파서는 실제로 choice의 방법이 되었다.<br/><br/>

* 모호한 문법의 Bottom-Up Parsing
  * 산술 표현식 파싱과 같은 중요한 상황에서 우리는 모호한 문법을 사용할 수 있고, 이동과 감소 사이의 충돌을 해결하기 위해 연산자의 우선 순위와 같은 사이드 정를 이용할 수 있다.<br/>
  따라서 LR parsing 기술은 많은 모호한 문법까지 확장된다.<br/><br/>
  
* Yacc
  * 파서 생성기인 Yacc은 (아마도) 모호한 문법과 충돌 해결 정보를 취하여 LALR states 를 구성한다.<br/>
  그런 다음 이러한 states 를 사용하여 상향식 파싱을 수행하고 감소가 수행될 때마다 관련 함수를 호출하는 함수를 만든다.<br/><br/>

